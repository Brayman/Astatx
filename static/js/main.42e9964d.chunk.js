(this.webpackJsonpstatx=this.webpackJsonpstatx||[]).push([[0],{191:function(e,t,a){e.exports=a(377)},275:function(e,t,a){},277:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setStat",(function(){return C})),a.d(n,"addStat",(function(){return w})),a.d(n,"getStat",(function(){return _})),a.d(n,"fetchStats",(function(){return x})),a.d(n,"setFilterWeek",(function(){return D})),a.d(n,"default",(function(){return M}));var c=a(2),r=a.n(c),o=a(34),l=a.n(o),i=a(66),u=a(19),s=a(151),m=a(161),d=a(63),f=a.n(d),b=a(67),E=a.n(b),h=Object(u.c)({statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SORT_SIXMONTH":case"SORT_MONTH_ASC":case"SORT_WEEK_ASC":return E()(e,e.length-n.length);case"GET_STAT":return console.log(e,n),f()(n,"date","asc");case"ADD_STAT":return[].concat(Object(m.a)(e),[n]);default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"asc",length:0},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SORT_ASC":case"SORT_DESC":return n;default:return e}}}),p=Object(u.d)(h,Object(u.a)(s.a)),y=a(24),v=a(9),g=(a(275),a(10)),O=a(160);var j=function(e){var t=Object(c.useState)({date:null,prorate:0,buy:!1,usd:0,byn:0}),a=Object(O.a)(t,2),n=a[0],o=a[1];return r.a.createElement("div",{className:"MyForm"},r.a.createElement("input",{type:"number",onChange:function(t){console.log(),o(Object(g.a)(Object(g.a)({},n),{},{prorate:t.target.value,increase:!(e.lastRate>=t.target.value)}))},onClick:function(e){var t=new Date;console.log(t),o(Object(g.a)(Object(g.a)({},n),{},{date:t}))}}),r.a.createElement("input",{type:"number",onChange:function(e){console.log(),o(Object(g.a)(Object(g.a)({},n),{},{rate:e.target.value}))}}),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onChange:function(e){!1===e.target.checked?o(Object(g.a)(Object(g.a)({},n),{},{buy:e.target.checked,usd:0,byn:0})):o(Object(g.a)(Object(g.a)({},n),{},{buy:e.target.checked}))}})," buy?"),r.a.createElement("input",{type:"number",disabled:!n.buy,value:n.usd,onChange:function(e){o(Object(g.a)(Object(g.a)({},n),{},{usd:e.target.value,byn:Math.trunc(100*e.target.value*n.prorate)/100}))}}),r.a.createElement("button",{onClick:function(){return e.action(n)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))};var S=function(e){var t=Object(v.f)();return console.log(t),r.a.createElement("div",{className:"filter"},r.a.createElement(y.b,{to:"/",className:"button",onClick:function(){e.filterAction("")}},"\u0412\u0441\u0435"),r.a.createElement(y.b,{to:"?filter=7",className:"button",onClick:function(){e.filterAction("?filter=7")}},"\u041d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement(y.b,{to:"?filter=30",className:"button",onClick:function(){e.filterAction("?filter=30")}},"   \u041c\u0435\u0441\u044f\u0446"),r.a.createElement(y.b,{to:"?filter=90",className:"button",onClick:function(){return e.filterAction("?filter=90")}},"6 \u041c\u0435\u0441\u044f\u0446\u0435\u0432"))},N=a(28),T=a(96);var k=function(e){var t=e.data,a={usd:0,byn:0};return t.map((function(e){!0===e.buy&&(a.usd=a.usd+e.usd,a.byn=a.byn+e.byn)})),r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},"\u041a\u0443\u043f\u043b\u0435\u043d\u043d\u043e ",r.a.createElement(N.a,null),a.usd," --- ",a.byn)),t.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"column"},t+1,")"),r.a.createElement("div",{className:"column date"},e.date),r.a.createElement("div",{className:"column"},e.increase?r.a.createElement(N.d,{color:"#f44336",size:"20px"}):r.a.createElement(N.c,{color:"#4CAF50",size:"20px"})),r.a.createElement("div",{className:"column"},e.prorate),e.buy?r.a.createElement("div",{className:"column not-buy"},r.a.createElement(T.a,{color:"inherit",size:"20px"})):r.a.createElement("div",{className:"column buy"},r.a.createElement(T.b,{color:"inherit",size:"20px"})),e.buy?r.a.createElement("div",{className:"column"},r.a.createElement(N.a,null)," ",e.usd):r.a.createElement("div",{className:"column"},r.a.createElement(N.b,{color:"#f44336"})),r.a.createElement("div",{className:"column byn"},e.buy?e.byn:r.a.createElement(N.b,{color:"#f44336"})))})))},A="https://astatx.herokuapp.com",C=function(e){return{type:"GET_STAT",payload:e}},w=function(e){return{type:"ADD_STAT",payload:e}},_=function(e){return function(t){console.log(e),fetch(A+"/stat"+e).then((function(e){return console.log(e),e.json()})).then((function(e){t(C(e))}))}},x=function(e){return function(t){fetch(A+"/stat",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t(w(e))}))}},D=function(){return{type:"SORT_WEEK_ASC",payload:{type:"asc",length:7}}},R={getStat:function(){return function(e){console.log("dddd"),fetch(A+"/stat").then((function(e){return console.log(e),e.json()})).then((function(t){return e(R.setStat(t))}))}},setStat:function(e){return{type:"GET_STAT",payload:e}}},M=R,W=(a(277),a(21));var K=Object(i.b)((function(e){return Object(g.a)(Object(g.a)({},e),{},{statistic:(t=e.statistic,f()(t,"date","asc"))});var t}),(function(e){return Object(g.a)({},Object(u.b)(n,e))}))((function(e){var t=Object(v.f)();Object(c.useEffect)((function(){e.getStat(t.search)}),[]);var a=e.statistic.length>0?e.statistic[e.statistic.length-1]:{prorate:0};return r.a.createElement("div",{className:"App"},r.a.createElement(S,{filterAction:e.getStat}),r.a.createElement(W.d,{width:document.documentElement.clientWidth-50,height:600,data:e.statistic,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(W.a,{strokeDasharray:"4 4"}),r.a.createElement(W.f,{dataKey:"date"}),r.a.createElement(W.g,{domain:["dataMin","dataMax + 0.01"]}),r.a.createElement(W.e,null),r.a.createElement(W.b,null),r.a.createElement(W.c,{type:"monotone",dataKey:"rate",stroke:"#4caf50",activeDot:{r:3},dot:{r:.5}}),r.a.createElement(W.c,{type:"monotone",dataKey:"prorate",stroke:"#f03226",activeDot:{r:3},dot:{r:1}})),r.a.createElement(j,{action:e.fetchStats,lastRate:a.prorate}),r.a.createElement(k,{data:e.statistic}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:p},r.a.createElement(y.a,null,r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/"},r.a.createElement(K,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.42e9964d.chunk.js.map