(this.webpackJsonpstatx=this.webpackJsonpstatx||[]).push([[0],{190:function(e,t,a){e.exports=a(377)},273:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setStat",(function(){return L})),a.d(n,"addStat",(function(){return T})),a.d(n,"login",(function(){return x})),a.d(n,"filter",(function(){return S})),a.d(n,"load",(function(){return D})),a.d(n,"loadComp",(function(){return I})),a.d(n,"getStat",(function(){return F})),a.d(n,"fetchStats",(function(){return G})),a.d(n,"FetchLogIn",(function(){return M})),a.d(n,"FetchRegData",(function(){return _}));var r=a(2),c=a.n(r),o=a(34),l=a.n(o),i=a(67),u=a(20),s=a(150),m=a(160),d=a(64),p=a.n(d),f=a(7),b=Object(u.c)({statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_STAT":return p()(n,"date","asc");case"ADD_STAT":return[].concat(Object(m.a)(e),[n]);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1,profile:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN":return console.log("work"),{auth:!0,profile:n};case"LOGOUT":return{auth:!1,profile:{}};default:return e}},appdata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOADING":case"LOADING_COMPLEATE":return Object(f.a)(Object(f.a)({},e),{},{isLoading:n});case"LOADING_FAIL":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,warning:n});case"FILTER":return Object(f.a)(Object(f.a)({},e),{},{filter:n});default:return e}}}),g=Object(u.d)(b,Object(u.a)(s.a)),h=a(16),E=(a(273),a(68));var y=function(e,t){var a=Object(r.useState)({date:{},prorate:0,buy:!1,usd:0,byn:0}),n=Object(E.a)(a,2),o=n[0],l=n[1];return c.a.createElement("div",{className:"MyForm"},c.a.createElement("input",{type:"number",onChange:function(t){console.log(),l(Object(f.a)(Object(f.a)({},o),{},{prorate:t.target.value,increase:!(e.lastRate>=t.target.value)}))},onClick:function(e){var t=new Date;console.log(t),l(Object(f.a)(Object(f.a)({},o),{},{date:{default:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getUTCFullYear(),full:t}}))}}),c.a.createElement("input",{type:"number",onChange:function(e){console.log(),l(Object(f.a)(Object(f.a)({},o),{},{rate:e.target.value}))}}),c.a.createElement("div",null,c.a.createElement("input",{type:"checkbox",onChange:function(e){!1===e.target.checked?l(Object(f.a)(Object(f.a)({},o),{},{buy:e.target.checked,usd:0,byn:0})):l(Object(f.a)(Object(f.a)({},o),{},{buy:e.target.checked}))}})," buy?"),c.a.createElement("input",{type:"number",disabled:!o.buy,value:o.usd,onChange:function(e){l(Object(f.a)(Object(f.a)({},o),{},{usd:parseInt(e.target.value),byn:Math.trunc(100*e.target.value*o.prorate)/100}))}}),c.a.createElement("button",{onClick:function(){return e.action(o,e.user.login)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))},v=a(10);var O=function(e){var t=e.filterAction,a=e.login,n=Object(v.g)();return c.a.createElement("div",{className:"filter"},c.a.createElement(h.b,{to:"".concat(n.pathname),className:"button",onClick:function(){t({other:"",login:a})}},"\u0412\u0441\u0435"),c.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=7"),className:"button",onClick:function(){t({other:"?filter=7",login:a})}},"\u041d\u0435\u0434\u0435\u043b\u044f"),c.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=30"),className:"button",onClick:function(){t({other:"?filter=30",login:a})}},"   \u041c\u0435\u0441\u044f\u0446"),c.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=90"),className:"button",onClick:function(){return t({other:"?filter=90",login:a})}},"3 \u041c\u0435\u0441\u044f\u0446\u0430"),c.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=120"),className:"button",onClick:function(){return t({other:"?filter=120",login:a})}},"6 \u041c\u0435\u0441\u044f\u0446\u0435\u0432"))},j=a(151);a(275);var N=function(e){var t=e.actions,a=Object(r.useState)({login:"",password:"",bank:""}),n=Object(E.a)(a,2),o=n[0],l=n[1],i=function(e){switch(e.target.name){case"login":l(Object(f.a)(Object(f.a)({},o),{},{login:e.target.value}));break;case"password":l(Object(f.a)(Object(f.a)({},o),{},{password:e.target.value}));break;case"email":console.log(e.target),l(Object(f.a)(Object(f.a)({},o),{},{email:e.target.value}));break;case"bank":l(Object(f.a)(Object(f.a)({},o),{},{bank:e.target.value}));break;case"repeatpassword":o.password===e.target.value&&l(Object(f.a)(Object(f.a)({},o),{},{passwordtrue:!0}))}};return c.a.createElement("div",{className:"MyForm"},"Login",c.a.createElement("input",{type:"text",name:"login",onChange:i}),"Password",c.a.createElement("input",{type:"password",name:"password",onChange:i}),c.a.createElement("div",null,"Repeat password",c.a.createElement("input",{type:"password",name:"repeatpassword",onChange:i})," ",o.passwordtrue?"good":c.a.createElement(j.a,{className:"wrong"})),"Email",c.a.createElement("input",{type:"email",name:"email",onChange:i}),"Your bank",c.a.createElement("input",{type:"text",name:"bank",onChange:i}),c.a.createElement("button",{className:"button",onClick:function(){return t.regAction(o)}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),c.a.createElement("div",null,"\u0438\u043b\u0438"),c.a.createElement("button",{className:"button",onClick:function(){return t.loginAction(o)}},"\u0432\u043e\u0439\u0442\u0438"))};var w=a(28),k=a(46);var A=function(e){var t=e.data,a={usd:0,byn:0,price:0,srusd:0};return t.map((function(e,n){!0===e.buy&&(a.usd=a.usd+e.usd,a.byn=a.byn+e.byn,a.price=a.usd*t[t.length-1].prorate,a.srusd=a.usd/t.length)})),c.a.createElement("div",{className:"table"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"column"},"\u041a\u0443\u043f\u043b\u0435\u043d\u043d\u043e ",c.a.createElement(w.a,null),a.usd," --- ",a.byn," --- ",a.price," --- ",a.srusd)),t.map((function(e,t){return c.a.createElement("div",{className:"row",key:t},c.a.createElement("div",{className:"column"},t+1,")"),c.a.createElement("div",{className:"column date"},e.date.default),c.a.createElement("div",{className:"column"},e.increase?c.a.createElement(w.d,{color:"#f44336",size:"20px"}):c.a.createElement(w.c,{color:"#4CAF50",size:"20px"})),c.a.createElement("div",{className:"column"},e.prorate),e.buy?c.a.createElement("div",{className:"column not-buy"},c.a.createElement(k.b,{color:"inherit",size:"20px"})):c.a.createElement("div",{className:"column buy"},c.a.createElement(k.c,{color:"inherit",size:"20px"})),e.buy?c.a.createElement("div",{className:"column"},c.a.createElement(w.a,null)," ",e.usd):c.a.createElement("div",{className:"column"},c.a.createElement(w.b,{color:"#f44336"})),c.a.createElement("div",{className:"column byn"},e.buy?e.byn:c.a.createElement(w.b,{color:"#f44336"})))})))},C="http://localhost:5000",L=function(e){return{type:"GET_STAT",payload:e}},T=function(e){return{type:"ADD_STAT",payload:e}},x=function(e){return{type:"LOGIN",payload:e}},S=function(e){return{type:"FILTER",payload:e}},D=function(){return{type:"LOADING",payload:!0}},I=function(){return{type:"LOADING_COMPLEATE",payload:!1}},F=function(e){return function(t){console.log(e),fetch(C+"/stat/"+e.login+e.other).then((function(a){return console.log(a),t(S(e.other)),a.json()})).then((function(e){t(L(e)),t(I())}))}},G=function(e,t){return function(a){fetch(C+"/stat/"+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),a(T(e))}))}},M=function(e){return function(t){fetch(C+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),void 0==e.error?t(x(e)):t(function(e){return{type:"LOADING_FAIL",payload:e}}(e))}))}},_=function(e){return function(t){fetch(C+"/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t(M(e))}))}},R=(a(276),a(22));function P(e){var t=e.props,a=Object(v.g)();Object(r.useEffect)((function(){t.getStat({login:t.user.profile.login,other:a.search})}),[]);var n=t.statistic.length>0?t.statistic[t.statistic.length-1]:{prorate:0};return c.a.createElement("div",{className:"App"},1==t.appdata.isLoading?c.a.createElement("div",{className:"loading"},c.a.createElement(k.a,null)):null,c.a.createElement(O,{filterAction:t.getStat,login:t.user.profile.login,status:t.appdata.filter}),c.a.createElement(R.d,{width:document.documentElement.clientWidth-50,height:600,data:t.statistic,margin:{top:5,right:30,left:20,bottom:5}},c.a.createElement(R.a,{strokeDasharray:"4 4"}),c.a.createElement(R.f,{dataKey:"date.default"}),c.a.createElement(R.g,{domain:["dataMin","dataMax + 0.01"]}),c.a.createElement(R.e,null),c.a.createElement(R.b,null),c.a.createElement(R.c,{type:"monotone",dataKey:"rate",stroke:"#4caf50",activeDot:{r:3},dot:{r:.5}}),c.a.createElement(R.c,{type:"monotone",dataKey:"prorate",stroke:"#f03226",activeDot:{r:3},dot:{r:1}})),c.a.createElement(y,{action:t.fetchStats,user:t.user.profile,lastRate:n.prorate}),c.a.createElement(A,{data:t.statistic}))}var J=Object(i.b)((function(e){return Object(f.a)(Object(f.a)({},e),{},{statistic:(t=e.statistic,p()(t,"date.full","asc"))});var t}),(function(e){return Object(f.a)({},Object(u.b)(n,e))}))((function(e){var t=Object(v.h)(),a=Object(v.g)();return console.log(a,t),c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"/Astatx"},0==e.user.auth?c.a.createElement(v.a,{to:"/Astatx/signin"}):c.a.createElement(P,{props:e})),c.a.createElement(v.b,{exact:!0,path:"/Astatx/signin"},1==e.user.auth?c.a.createElement(v.a,{to:"/Astatx/".concat(e.user.profile.login)}):c.a.createElement(N,{actions:{regAction:e.FetchRegData,loginAction:e.FetchLogIn}})),c.a.createElement(v.b,{exact:!0,path:"/Astatx/:login"},e.user.profile.login==t.login?c.a.createElement(v.a,{to:"/Astatx/signin"}):c.a.createElement(P,{props:e})),c.a.createElement(v.b,{path:"*"},c.a.createElement("div",null,"not found")))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:g},c.a.createElement(h.a,null,c.a.createElement(J,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.d8ad5404.chunk.js.map