(this.webpackJsonpstatx=this.webpackJsonpstatx||[]).push([[0],{189:function(e,t,a){e.exports=a(375)},272:function(e,t,a){},274:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setStat",(function(){return w})),a.d(n,"addStat",(function(){return x})),a.d(n,"login",(function(){return T})),a.d(n,"load",(function(){return S})),a.d(n,"loadComp",(function(){return D})),a.d(n,"getStat",(function(){return L})),a.d(n,"fetchStats",(function(){return G})),a.d(n,"FetchLogIn",(function(){return I})),a.d(n,"FetchRegData",(function(){return M}));var c=a(2),o=a.n(c),r=a(34),l=a.n(r),i=a(67),u=a(20),s=a(150),m=a(159),d=a(64),f=a.n(d),b=a(8),p=Object(u.c)({statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_STAT":return f()(n,"date","asc");case"ADD_STAT":return[].concat(Object(m.a)(e),[n]);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1,profile:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN":return console.log("work"),{auth:!0,profile:n};case"LOGOUT":return{auth:!1,profile:{}};default:return e}},appdata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOADING":case"LOADING_COMPLEATE":return Object(b.a)(Object(b.a)({},e),{},{isLoading:n});default:return e}}}),g=Object(u.d)(p,Object(u.a)(s.a)),h=a(16),E=(a(272),a(68));var y=function(e,t){var a=Object(c.useState)({date:{},prorate:0,buy:!1,usd:0,byn:0}),n=Object(E.a)(a,2),r=n[0],l=n[1];return o.a.createElement("div",{className:"MyForm"},o.a.createElement("input",{type:"number",onChange:function(t){console.log(),l(Object(b.a)(Object(b.a)({},r),{},{prorate:t.target.value,increase:!(e.lastRate>=t.target.value)}))},onClick:function(e){var t=new Date;console.log(t),l(Object(b.a)(Object(b.a)({},r),{},{date:{default:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getUTCFullYear(),full:t}}))}}),o.a.createElement("input",{type:"number",onChange:function(e){console.log(),l(Object(b.a)(Object(b.a)({},r),{},{rate:e.target.value}))}}),o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",onChange:function(e){!1===e.target.checked?l(Object(b.a)(Object(b.a)({},r),{},{buy:e.target.checked,usd:0,byn:0})):l(Object(b.a)(Object(b.a)({},r),{},{buy:e.target.checked}))}})," buy?"),o.a.createElement("input",{type:"number",disabled:!r.buy,value:r.usd,onChange:function(e){l(Object(b.a)(Object(b.a)({},r),{},{usd:e.target.value,byn:Math.trunc(100*e.target.value*r.prorate)/100}))}}),o.a.createElement("button",{onClick:function(){return e.action(r,e.user.login)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))},v=a(10);var O=function(e){var t=e.filterAction,a=e.login,n=Object(v.g)();return o.a.createElement("div",{className:"filter"},o.a.createElement(h.b,{to:"".concat(n.pathname),className:"button",onClick:function(){t({other:"",login:a})}},"\u0412\u0441\u0435"),o.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=7"),className:"button",onClick:function(){t({other:"?filter=7",login:a})}},"\u041d\u0435\u0434\u0435\u043b\u044f"),o.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=30"),className:"button",onClick:function(){t({other:"?filter=30",login:a})}},"   \u041c\u0435\u0441\u044f\u0446"),o.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=90"),className:"button",onClick:function(){return t({other:"?filter=90",login:a})}},"3 \u041c\u0435\u0441\u044f\u0446\u0430"),o.a.createElement(h.b,{to:"".concat(n.pathname,"?filter=120"),className:"button",onClick:function(){return t({other:"?filter=120",login:a})}},"6 \u041c\u0435\u0441\u044f\u0446\u0435\u0432"))};var j=function(e){var t=e.actions,a=Object(c.useState)({login:"",password:"",bank:""}),n=Object(E.a)(a,2),r=n[0],l=n[1],i=function(e){switch(e.target.name){case"login":l(Object(b.a)(Object(b.a)({},r),{},{login:e.target.value}));break;case"password":l(Object(b.a)(Object(b.a)({},r),{},{password:e.target.value}));break;case"bank":l(Object(b.a)(Object(b.a)({},r),{},{bank:e.target.value}))}};return o.a.createElement("div",{className:"MyForm"},"Login",o.a.createElement("input",{type:"text",name:"login",onChange:i}),"Password",o.a.createElement("input",{type:"password",name:"password",onChange:i}),"Your bank",o.a.createElement("input",{type:"text",name:"bank",onChange:i}),o.a.createElement("div",{className:"ups"},o.a.createElement("button",{className:"button",onClick:function(){return t.regAction(r)}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),o.a.createElement("div",null,"\u0438\u043b\u0438"),o.a.createElement("button",{className:"button",onClick:function(){return t.loginAction(r)}},"\u0432\u043e\u0439\u0442\u0438")))};var N=a(28),k=a(46);var A=function(e){var t=e.data,a={usd:0,byn:0,price:0,srusd:0};return t.map((function(e,n){!0===e.buy&&(a.usd=a.usd+e.usd,a.byn=a.byn+e.byn,a.price=a.usd*t[t.length-1].prorate,a.srusd=a.usd/t.length)})),o.a.createElement("div",{className:"table"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},"\u041a\u0443\u043f\u043b\u0435\u043d\u043d\u043e ",o.a.createElement(N.a,null),a.usd," --- ",a.byn," --- ",a.price," --- ",a.srusd)),t.map((function(e,t){return o.a.createElement("div",{className:"row",key:t},o.a.createElement("div",{className:"column"},t+1,")"),o.a.createElement("div",{className:"column date"},e.date.default),o.a.createElement("div",{className:"column"},e.increase?o.a.createElement(N.d,{color:"#f44336",size:"20px"}):o.a.createElement(N.c,{color:"#4CAF50",size:"20px"})),o.a.createElement("div",{className:"column"},e.prorate),e.buy?o.a.createElement("div",{className:"column not-buy"},o.a.createElement(k.b,{color:"inherit",size:"20px"})):o.a.createElement("div",{className:"column buy"},o.a.createElement(k.c,{color:"inherit",size:"20px"})),e.buy?o.a.createElement("div",{className:"column"},o.a.createElement(N.a,null)," ",e.usd):o.a.createElement("div",{className:"column"},o.a.createElement(N.b,{color:"#f44336"})),o.a.createElement("div",{className:"column byn"},e.buy?e.byn:o.a.createElement(N.b,{color:"#f44336"})))})))},C="http://localhost:5000",w=function(e){return{type:"GET_STAT",payload:e}},x=function(e){return{type:"ADD_STAT",payload:e}},T=function(e){return{type:"LOGIN",payload:e}},S=function(){return{type:"LOADING",payload:!0}},D=function(){return{type:"LOADING_COMPLEATE",payload:!1}},L=function(e){return function(t){console.log(e),fetch(C+"/stat/"+e.login+e.other).then((function(e){return console.log(e),e.json()})).then((function(e){t(w(e)),t(D())}))}},G=function(e,t){return function(a){fetch(C+"/stat/"+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),a(x(e))}))}},I=function(e){return function(t){fetch(C+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t(T(e))}))}},M=function(e){return function(t){fetch(C+"/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t(I(e))}))}},F=(a(274),a(22));function P(e){var t=e.props,a=Object(v.g)();Object(c.useEffect)((function(){t.getStat({login:t.user.profile.login,other:a.search})}),[]);var n=t.statistic.length>0?t.statistic[t.statistic.length-1]:{prorate:0};return o.a.createElement("div",{className:"App"},1==t.appdata.isLoading?o.a.createElement("div",{className:"loading"},o.a.createElement(k.a,null)):null,o.a.createElement(O,{filterAction:t.getStat,login:t.user.profile.login}),o.a.createElement(F.d,{width:document.documentElement.clientWidth-50,height:600,data:t.statistic,margin:{top:5,right:30,left:20,bottom:5}},o.a.createElement(F.a,{strokeDasharray:"4 4"}),o.a.createElement(F.f,{dataKey:"date.default"}),o.a.createElement(F.g,{domain:["dataMin","dataMax + 0.01"]}),o.a.createElement(F.e,null),o.a.createElement(F.b,null),o.a.createElement(F.c,{type:"monotone",dataKey:"rate",stroke:"#4caf50",activeDot:{r:3},dot:{r:.5}}),o.a.createElement(F.c,{type:"monotone",dataKey:"prorate",stroke:"#f03226",activeDot:{r:3},dot:{r:1}})),o.a.createElement(y,{action:t.fetchStats,user:t.user.profile,lastRate:n.prorate}),o.a.createElement(A,{data:t.statistic}))}var _=Object(i.b)((function(e){return Object(b.a)(Object(b.a)({},e),{},{statistic:(t=e.statistic,f()(t,"date.default","asc"))});var t}),(function(e){return Object(b.a)({},Object(u.b)(n,e))}))((function(e){var t=Object(v.h)(),a=Object(v.g)();return console.log(a,t),o.a.createElement(v.d,null,o.a.createElement(v.b,{exact:!0,path:"/Astatx"},0==e.user.auth?o.a.createElement(v.a,{to:"/Astatx/signin"}):o.a.createElement(P,{props:e})),o.a.createElement(v.b,{exact:!0,path:"/Astatx/signin"},1==e.user.auth?o.a.createElement(v.a,{to:"/Astatx/".concat(e.user.profile.login)}):o.a.createElement(j,{actions:{regAction:e.FetchRegData,loginAction:e.FetchLogIn}})),o.a.createElement(v.b,{exact:!0,path:"/Astatx/:login"},e.user.profile.login==t.login?o.a.createElement(v.a,{to:"/Astatx/signin"}):o.a.createElement(P,{props:e})),o.a.createElement(v.b,{path:"*"},o.a.createElement("div",null,"not found")))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(i.a,{store:g},o.a.createElement(h.a,null,o.a.createElement(_,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.03d8a925.chunk.js.map