(this.webpackJsonpstatx=this.webpackJsonpstatx||[]).push([[0],{189:function(e,t,a){e.exports=a(375)},272:function(e,t,a){},274:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setStat",(function(){return C})),a.d(n,"addStat",(function(){return T})),a.d(n,"login",(function(){return S})),a.d(n,"load",(function(){return D})),a.d(n,"loadComp",(function(){return x})),a.d(n,"getStat",(function(){return L})),a.d(n,"fetchStats",(function(){return G})),a.d(n,"FetchLogIn",(function(){return I})),a.d(n,"FetchRegData",(function(){return M}));var c=a(2),r=a.n(c),o=a(34),l=a.n(o),i=a(67),u=a(20),s=a(150),m=a(159),d=a(64),f=a.n(d),b=a(8),p=Object(u.c)({statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_STAT":return f()(n,"date","asc");case"ADD_STAT":return[].concat(Object(m.a)(e),[n]);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1,profile:{}},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN":return console.log("work"),{auth:!0,profile:n};case"LOGOUT":return{auth:!1,profile:{}};default:return e}},appdata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOADING":case"LOADING_COMPLEATE":return Object(b.a)(Object(b.a)({},e),{},{isLoading:n});default:return e}}}),g=Object(u.d)(p,Object(u.a)(s.a)),h=a(16),E=(a(272),a(68));var v=function(e){var t=Object(c.useState)({date:null,prorate:0,buy:!1,usd:0,byn:0}),a=Object(E.a)(t,2),n=a[0],o=a[1];return r.a.createElement("div",{className:"MyForm"},r.a.createElement("input",{type:"number",onChange:function(t){console.log(),o(Object(b.a)(Object(b.a)({},n),{},{prorate:t.target.value,increase:!(e.lastRate>=t.target.value)}))},onClick:function(e){var t=new Date;console.log(t),o(Object(b.a)(Object(b.a)({},n),{},{date:t}))}}),r.a.createElement("input",{type:"number",onChange:function(e){console.log(),o(Object(b.a)(Object(b.a)({},n),{},{rate:e.target.value}))}}),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onChange:function(e){!1===e.target.checked?o(Object(b.a)(Object(b.a)({},n),{},{buy:e.target.checked,usd:0,byn:0})):o(Object(b.a)(Object(b.a)({},n),{},{buy:e.target.checked}))}})," buy?"),r.a.createElement("input",{type:"number",disabled:!n.buy,value:n.usd,onChange:function(e){o(Object(b.a)(Object(b.a)({},n),{},{usd:e.target.value,byn:Math.trunc(100*e.target.value*n.prorate)/100}))}}),r.a.createElement("button",{onClick:function(){return e.action(n)}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))};var y=function(e){return r.a.createElement("div",{className:"filter"},r.a.createElement(h.b,{to:"/",className:"button",onClick:function(){e.filterAction("")}},"\u0412\u0441\u0435"),r.a.createElement(h.b,{to:"?filter=7",className:"button",onClick:function(){e.filterAction("?filter=7")}},"\u041d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement(h.b,{to:"?filter=30",className:"button",onClick:function(){e.filterAction("?filter=30")}},"   \u041c\u0435\u0441\u044f\u0446"),r.a.createElement(h.b,{to:"?filter=90",className:"button",onClick:function(){return e.filterAction("?filter=90")}},"3 \u041c\u0435\u0441\u044f\u0446\u0430"),r.a.createElement(h.b,{to:"?filter=120",className:"button",onClick:function(){return e.filterAction("?filter=120")}},"6 \u041c\u0435\u0441\u044f\u0446\u0435\u0432"))};var O=function(e){var t=e.actions,a=Object(c.useState)({login:"",password:"",bank:""}),n=Object(E.a)(a,2),o=n[0],l=n[1],i=function(e){switch(e.target.name){case"login":l(Object(b.a)(Object(b.a)({},o),{},{login:e.target.value}));break;case"password":l(Object(b.a)(Object(b.a)({},o),{},{password:e.target.value}));break;case"bank":l(Object(b.a)(Object(b.a)({},o),{},{bank:e.target.value}))}};return r.a.createElement("div",{className:"MyForm"},"Login",r.a.createElement("input",{type:"text",name:"login",onChange:i}),"Password",r.a.createElement("input",{type:"password",name:"password",onChange:i}),"Your bank",r.a.createElement("input",{type:"text",name:"bank",onChange:i}),r.a.createElement("div",{className:"button"},r.a.createElement("div",{onClick:function(){return t.regAction(o)}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement("div",null,"\u0438\u043b\u0438"),r.a.createElement("div",{onClick:function(){return t.loginAction(o)}},"\u0432\u043e\u0439\u0442\u0438")))},j=a(10);var N=a(28),k=a(46);var w=function(e){var t=e.data,a={usd:0,byn:0,price:0,srusd:0};return t.map((function(e,n){!0===e.buy&&(a.usd=a.usd+e.usd,a.byn=a.byn+e.byn,a.price=a.usd*t[t.length-1].prorate,a.srusd=a.usd/t.length)})),r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},"\u041a\u0443\u043f\u043b\u0435\u043d\u043d\u043e ",r.a.createElement(N.a,null),a.usd," --- ",a.byn," --- ",a.price," --- ",a.srusd)),t.map((function(e,t){return r.a.createElement("div",{className:"row",key:t},r.a.createElement("div",{className:"column"},t+1,")"),r.a.createElement("div",{className:"column date"},function(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getUTCFullYear()}(e.date)),r.a.createElement("div",{className:"column"},e.increase?r.a.createElement(N.d,{color:"#f44336",size:"20px"}):r.a.createElement(N.c,{color:"#4CAF50",size:"20px"})),r.a.createElement("div",{className:"column"},e.prorate),e.buy?r.a.createElement("div",{className:"column not-buy"},r.a.createElement(k.b,{color:"inherit",size:"20px"})):r.a.createElement("div",{className:"column buy"},r.a.createElement(k.c,{color:"inherit",size:"20px"})),e.buy?r.a.createElement("div",{className:"column"},r.a.createElement(N.a,null)," ",e.usd):r.a.createElement("div",{className:"column"},r.a.createElement(N.b,{color:"#f44336"})),r.a.createElement("div",{className:"column byn"},e.buy?e.byn:r.a.createElement(N.b,{color:"#f44336"})))})))},A="https://astatx.herokuapp.com",C=function(e){return{type:"GET_STAT",payload:e}},T=function(e){return{type:"ADD_STAT",payload:e}},S=function(e){return{type:"LOGIN",payload:e}},D=function(){return{type:"LOADING",payload:!0}},x=function(){return{type:"LOADING_COMPLEATE",payload:!1}},L=function(e){return function(t){console.log(e),fetch(A+"/stat"+e).then((function(e){return console.log(e),e.json()})).then((function(e){t(C(e)),t(x())}))}},G=function(e){return function(t){fetch(A+"/stat",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t(T(e))}))}},I=function(e){return function(t){fetch(A+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t(S(e))}))}},M=function(e){return function(t){fetch(A+"/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t(I(e))}))}},F=(a(274),a(22));function P(e){var t=e.props,a=Object(j.g)();Object(c.useEffect)((function(){t.getStat(a.search)}),[]);var n=t.statistic.length>0?t.statistic[t.statistic.length-1]:{prorate:0};return r.a.createElement("div",{className:"App"},1==t.appdata.isLoading?r.a.createElement("div",{className:"loading"},r.a.createElement(k.a,null)):null,r.a.createElement(y,{filterAction:t.getStat}),r.a.createElement(F.d,{width:document.documentElement.clientWidth-50,height:600,data:t.statistic,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(F.a,{strokeDasharray:"4 4"}),r.a.createElement(F.f,{dataKey:"date"}),r.a.createElement(F.g,{domain:["dataMin","dataMax + 0.01"]}),r.a.createElement(F.e,null),r.a.createElement(F.b,null),r.a.createElement(F.c,{type:"monotone",dataKey:"rate",stroke:"#4caf50",activeDot:{r:3},dot:{r:.5}}),r.a.createElement(F.c,{type:"monotone",dataKey:"prorate",stroke:"#f03226",activeDot:{r:3},dot:{r:1}})),r.a.createElement(v,{action:t.fetchStats,lastRate:n.prorate}),r.a.createElement(w,{data:t.statistic}))}var _=Object(i.b)((function(e){return Object(b.a)(Object(b.a)({},e),{},{statistic:(t=e.statistic,f()(t,"date","asc"))});var t}),(function(e){return Object(b.a)({},Object(u.b)(n,e))}))((function(e){var t=Object(j.h)();return r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/"},0==e.user.auth?r.a.createElement(j.a,{to:"/signin"}):r.a.createElement(P,{props:e})),r.a.createElement(j.b,{exact:!0,path:"/signin"},1==e.user.auth?r.a.createElement(j.a,{to:"/".concat(e.user.profile.login)}):r.a.createElement(O,{actions:{regAction:e.FetchRegData,loginAction:e.FetchLogIn}})),r.a.createElement(j.b,{exact:!0,path:"/:login"},e.user.profile.login==t.login?r.a.createElement(j.a,{to:"/signin"}):r.a.createElement(P,{props:e})),r.a.createElement(j.b,{path:"*"},r.a.createElement("div",null,"not found")))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:g},r.a.createElement(h.a,null,r.a.createElement(_,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.3d6624cd.chunk.js.map